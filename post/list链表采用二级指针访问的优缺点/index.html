<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<title> 采用二级指针实现单链表操作 单链表翻转 删除单链表结点 &middot; BG2BKK Site </title>


<link rel="stylesheet" href="http://bg2bkk.github.io//css/slim.css">
<link rel="stylesheet" href="http://bg2bkk.github.io//css/highlight.min.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="/favicon.ico">


<link href="" rel="alternate" type="application/rss+xml" title="BG2BKK Site" />

</head>

<body>
  <div class="container">
    <div class="header">
  <h1 class="site-title"><a href="http://bg2bkk.github.io/">BG2BKK Site</a></h1>
  <p class="site-tagline"></p>
  <div class="nav">
    <a class="nav-btn" href="#">
      <span class="ci ci-burger"></span>
    </a>
    <ul class="nav-list">
       
	  <li class="spacer">&ac;</li>
  
    </ul>
  </div>
</div>
    <div class="content">
      <div class="posts">
        <div class="post">
          <h2 class="post-title"><a href="http://bg2bkk.github.io/post/list%E9%93%BE%E8%A1%A8%E9%87%87%E7%94%A8%E4%BA%8C%E7%BA%A7%E6%8C%87%E9%92%88%E8%AE%BF%E9%97%AE%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9/">采用二级指针实现单链表操作 单链表翻转 删除单链表结点</a></h2>
          <span class="post-date">Mar 1, 2016 </span>
          <div class="post-content">
            <ul>
<li>register_filesystem中的二级指针，刚开始没看懂。怒了，如果这个都没看懂，还搞什么C语言编程</li>
<li>leetcode中的反转链表，二级指针操作巨好用</li>
<li>先上代码吧</li>
</ul>

<pre><code class="language-cpp">#include&lt;stdio.h&gt;
#include&lt;stdlib.h&gt;

typedef struct ListNode{
    int val;
    struct ListNode *next;
} ListNode;

void printList(ListNode *head){
    if(head){
        printf(&quot;%d\n&quot;, head-&gt;val);
        printList(head-&gt;next);
    }
}

void printList_r(ListNode *head){
    if(!head)
        return;
    if(head -&gt; next)
        printList_r(head-&gt;next);
    printf(&quot;%d\n&quot;, head-&gt;val);
}

ListNode ** addToTail(ListNode **list){
    ListNode **p ;
    for( p = list; *p; p = &amp; (*p)-&gt;next);
    return p;
}

void reverseList(ListNode **list){
    ListNode *head = NULL;
    ListNode **p = list;
    while(*p){
        ListNode *next = (*p)-&gt;next;
        (*p)-&gt;next = head;
        head = *p;
        *p = next;
    }
    *list = head;
}

/* 
 * delete first item whose val equals to val
 *
*/
void deleteNodeAll(ListNode **l, int val){

    while(*l){
        if((*l)-&gt;val == val){
            ListNode *tmp = (*l)-&gt;next;
            free(*l);
            *l = tmp;
            break;
        }
        l = &amp;(*l)-&gt;next;
    }
}

//delete all the items whose val equals to val
void deleteNodeFirst(ListNode **l, int val){

    while(*l){
        if((*l)-&gt;val == val){
            ListNode *tmp = (*l)-&gt;next;
            free(*l);
            *l = tmp;
        }
        else
            l = &amp;(*l)-&gt;next;
    }
}

int main()
{
    int a[] = {1, 2, 3, 2, 3 ,4};
    int len = sizeof(a) / sizeof(int);
    int i = 0;

    static ListNode *list;

    for( i = 0; i &lt; len; i++)
    {
        ListNode *node = malloc(sizeof(struct ListNode));
        node-&gt;val = a[i];
        ListNode **p = addToTail(&amp;list);
        *p = node;
    }

    printf(&quot;--------print list in sequence------------\n&quot;);
    printList(list);

    printf(&quot;--------print list after reversed------------------\n&quot;);
    reverseList(&amp;list);
    printList(list);

    printf(&quot;--------delete first 1----------\n&quot;);
    deleteNodeFirst(&amp;list, 1);
    printList(list);

    printf(&quot;--------delete first 3----------------\n&quot;);
    deleteNodeFirst(&amp;list, 3);
    printList(list);

    printf(&quot;--------delete first 4-----------------\n&quot;);
    deleteNodeFirst(&amp;list, 4);
    printList(list);

    printf(&quot;--------delete non-existed item-------------\n&quot;);
    deleteNodeFirst(&amp;list, 4);
    printList(list);

    printf(&quot;--------delete the last item----------------\n&quot;);
    deleteNodeFirst(&amp;list, 2);
    printList(list);

    printf(&quot;--------reverse an empty list---------------\n&quot;);
    reverseList(&amp;list);
    printList(list);


}
</code></pre>

          </div>
        </div>
        <div class="pagination">
          <a class="btn previous " href="http://bg2bkk.github.io/post/shadowsocks%E7%A7%91%E5%AD%A6%E4%B8%8A%E7%BD%91%E6%89%8B%E5%8A%A8%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97/"> Prev</a>  
          <a class="btn next " href="http://bg2bkk.github.io/post/VFS%E8%99%9A%E6%8B%9F%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/"> Next</a> 
        </div>
      </div>
    </div>
    
    <div class="footer">
  <p>Powered by <a href="http://gohugo.io">Hugo</a>. This theme—Slim—is open sourced on <a href="https://github.com/zhe/hugo-theme-slim">Github</a>.</p>
</div>

  </div>
  <script src="http://bg2bkk.github.io//js/slim.js"></script>
  <script src="http://bg2bkk.github.io//js/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>
  
</body>

</html>
